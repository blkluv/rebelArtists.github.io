import{u as n}from"./index.c248c226.js";import{i as a,h as t,o as s,c as e,a as i,B as l,Q as o,b as d,I as u}from"./vendor.3bbbd367.js";const r={name:"Crowdsale",emits:["like-event"],components:{},data:()=>({componentKey:0,animating:!1,tokenCount:0,tokenCountValid:!1}),mounted(){this.$nextTick((()=>{this.getCrowdsaleDetails()}))},methods:{async sendTokens(){if(this.tokenCountValid){this.animating=!0;const{sendCrowdsaleTokens:a}=n();await a(this.tokenCount.toString()),this.getCrowdsaleDetails(),this.animating=!1}else console.log("fix input values and try again")},async getCrowdsaleDetails(){const{getAmtRaised:a,getUserAmtDonated:t}=n();await a(),await t(),this.componentKey+=1},async withdrawCrowdsaleFundsAdmin(){const{withdrawCrowdsaleFunds:a}=n();await a(),this.componentKey+=1},async withdrawDappFundsAdmin(){const{withdrawDappFunds:a}=n();await a(),this.componentKey+=1},validateTokenCount(n){this.tokenCount=n.target.value,this.tokenCount>=1&&this.tokenCount<=1e6?this.tokenCountValid=!0:this.tokenCountValid=!1}},watch:{},setup(){a("notyf");const s=n(),{amtRaised:e,userContribution:i}=t(s);return{amtRaised:e,userContribution:i}}},c={class:"adminWrapper"},w=l(" ADMIN "),p={class:"crowdsaleWrapper"},h={class:"dappWrapper"},m={class:"login-box"},C=i("h2",null,"Crowdsale",-1),k={class:"crowdsaleStats"},b=l("Available: "),v=i("br",null,null,-1),g=l("Your Stake: "),y=i("br",null,null,-1),A=l("Raised: "),D=i("br",null,null,-1),T={class:"user-box"},f=l("# Tokens to Buy "),x={key:0,class:"warningText"},F={key:1,class:"successfulText"},R={class:"purchaseButton"},V=[i("span",null,null,-1),i("span",null,null,-1),i("span",null,null,-1),i("span",null,null,-1),l(" Purchase ")];r.render=function(n,a,t,r,I,M){return s(),e(u,null,[i("div",c,[w,i("div",p,[i("a",{class:"withdrawHover",onClick:a[0]||(a[0]=(...n)=>M.withdrawCrowdsaleFundsAdmin&&M.withdrawCrowdsaleFundsAdmin(...n))}," Withdraw Crowdsale ")]),i("div",h,[i("a",{class:"withdrawHoverDapp",onClick:a[1]||(a[1]=(...n)=>M.withdrawDappFundsAdmin&&M.withdrawDappFundsAdmin(...n))}," Withdraw DAPP ")])]),i("div",m,[C,i("span",k,[i("h4",null,[b,v,l(o(5e8-r.amtRaised)+" REBEL",1)]),i("h4",null,[g,y,l(o(r.userContribution)+" MATIC",1)]),i("h4",null,[A,D,l(o(r.amtRaised)+" MATIC",1)])]),i("form",null,[i("div",T,[i("input",{type:"number",step:".00000000001",onInput:a[2]||(a[2]=n=>M.validateTokenCount(n))},null,32),i("label",null,[f,this.tokenCountValid?d("",!0):(s(),e("span",x," (must be between 1-1MM) ")),this.tokenCountValid?(s(),e("span",F," âœ“ ")):d("",!0)])]),i("div",R,[i("a",{class:"purchaseHover",onClick:a[3]||(a[3]=n=>M.sendTokens())},V)])])])],64)};export{r as default};
