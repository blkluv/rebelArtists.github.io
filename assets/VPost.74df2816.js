import{m as i,_ as s,a}from"./mdb.umd.min.8982d985.js";import{h as e,N as t,q as d,x as o,y as l,z as r,o as n,c as u,b as c,k as v,a as m,t as p,l as h,P as g,I as y,Q as k,A as w}from"./vendor.904bcd4c.js";import{_ as P}from"./404.e835ef60.js";import{u as b,g as f,a as x,b as C}from"./index.3a7766ab.js";const M={name:"VPost",components:{MDBCard:i.exports.MDBCard,MDBCardImg:i.exports.MDBCardImg,LikersModal:s,ToggleFavorite:a,ErrorPage:P},data:()=>({componentKey:0,postReady:!1,showLikersModal:!1,idToCheck:null,waveformOptions:{backend:"MediaElement",mediaControls:!0,barWidth:2,responsive:!0,height:240,hideScrollbar:!0,cursorWidth:1}}),mounted(){this.$nextTick((()=>{this.getContent()}))},methods:{async getContent(){this.postReady=!1;const{getPostById:i,isLiked:s}=b();this.$route.params.id&&(await i(this.$route.params.id),await s([this.$route.params.id])),this.postReady=!0},async updateparent(){const{getPostById:i,isLiked:s}=b();await i(this.$route.params.id),await s([this.$route.params.id]),this.componentKey+=1}},watch:{$route(i,s){i!==s&&this.getContent()}},setup(){const i=b(),{individualPost:s,user:a,account:r,likedArray:n}=e(i),u=new t({duration:2e3,position:{x:"center",y:"bottom"},types:[{type:"loading",background:"orange",duration:0,dismissible:!0,icon:{className:"icon icon-loading",tagName:"i"}}]});return d("notyf",u),{individualPost:s,user:a,account:r,getImgUrl:f,likedArray:n,getAvatar:i=>{let s=o(l,{seed:i,scale:80,translateY:-3}),a=new Blob([s],{type:"image/svg+xml"});return URL.createObjectURL(a)},getCloudinaryUrlImage:x,getCloudinaryUrlVideo:C}}},I={key:0,class:"loaderWrapper"},L=[m("div",{class:"lds-dual-ring"},null,-1),m("div",{class:"loaderText"},"loading IPFS metadata...",-1)],B={key:1},H={key:0},T={key:1,class:"wrapper3"},U={class:"box2 itemMedia"},A={class:"figureClassPost"},$={key:0,class:"card-img-style-post",controls:"",controlsList:"nodownload"},j=["src"],D={key:1,class:"card-img-style-post-audio"},E={class:"box2 userName"},R=["src"],N={class:"userName"},S={class:"box2 itemName"},V={class:"bolded"},F={class:"box2 itemDescription"},_={class:"box2 itemAttributes"},O={class:"styled-table"},W=m("thead",{class:"roundedHeader"},[m("tr",null,[m("th",null,"Trait"),m("th",{class:"valueStyle"},"Value")])],-1),z={class:"valueStyle"},K={class:"box2 itemLikes"},q={key:1,id:"favoriting",class:"likeHeart"},Q={key:2,id:"favoriting",class:"likeHeart"},Y=m("div",{class:"itemBackground"},null,-1),G={class:"box2 itemIpfs"},J=["href"],X=[m("svg",{class:"svgIpfs",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},[m("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),m("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),m("path",{d:"M20.4 14.5L16 10 4 20"})],-1)],Z=["href"],ii=[m("svg",{class:"svgIpfs",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"},[m("path",{d:"M14 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),m("path",{d:"M14 3v5h5M16 13H8M16 17H8M10 9H8"})],-1)];M.render=function(i,e,t,d,o,l){const P=r("ErrorPage"),b=r("wavesurfer"),f=r("MDBCardImg"),x=r("MDBCard"),C=r("router-link"),M=s,si=a;return n(),u(y,null,[this.postReady?c("",!0):(n(),u("div",I,L)),this.postReady?(n(),u("div",B,[d.individualPost?c("",!0):(n(),u("div",H,[v(P)])),d.individualPost?(n(),u("div",T,[m("div",U,[v(x,{class:"card-style-post hover-overlay"},{default:p((()=>[m("figure",A,["video"==d.individualPost.mediaType?(n(),u("video",$,[m("source",{src:d.getCloudinaryUrlVideo(d.individualPost.mediaHash)},null,8,j)])):c("",!0),"audio"==d.individualPost.mediaType?(n(),u("div",D,[v(b,{src:d.getCloudinaryUrlVideo(d.individualPost.mediaHash),options:o.waveformOptions},null,8,["src","options"])])):c("",!0),"image"==d.individualPost.mediaType?(n(),h(f,{key:2,src:d.getCloudinaryUrlImage(d.individualPost.mediaHash),top:"",hover:"",alt:"...",class:"card-img-style-post"},null,8,["src"])):c("",!0)])])),_:1})]),m("div",E,[v(C,{to:`/user/${d.individualPost.address}`,exact:""},{default:p((()=>[m("img",{src:d.getAvatar(d.individualPost.address.toLowerCase()),class:"round-image-post"},null,8,R)])),_:1},8,["to"]),m("div",N,g(d.individualPost.address.substring(0,4))+"..."+g(d.individualPost.address.slice(-4)),1)]),m("div",S,[m("div",V,g(d.individualPost.name),1)]),m("div",F,[m("div",null,g(d.individualPost.description),1)]),m("div",_,[m("table",O,[W,m("tbody",null,[(n(!0),u(y,null,k(d.individualPost.attributes,((i,s)=>(n(),u("tr",{key:s},[m("td",null,g(i.trait_type),1),m("td",z,g(i.value),1)])))),128))])])]),m("div",K,[m("a",{class:"likesHover",onClick:e[0]||(e[0]=i=>(o.showLikersModal=!0,o.idToCheck=d.individualPost.id))},g(d.individualPost.likes)+" likes ",1),o.showLikersModal&&o.idToCheck==d.individualPost.id?(n(),h(w,{key:0,to:"body"},[v(M,{show:o.showLikersModal,postId:d.individualPost.id,onClose:e[1]||(e[1]=i=>o.showLikersModal=!1)},null,8,["show","postId"])])):c("",!0),d.likedArray[0]?c("",!0):(n(),u("div",q,[v(si,{class:"faveButton",id:d.individualPost.id,onLikeEvent:l.updateparent},null,8,["id","onLikeEvent"])])),d.likedArray[0]?(n(),u("div",Q,[v(si,{class:"faveButton",id:d.individualPost.id,intialFavorited:!0,onLikeEvent:l.updateparent},null,8,["id","onLikeEvent"])])):c("",!0)]),Y,m("div",G,[m("a",{href:d.getImgUrl(d.individualPost.mediaHash),title:"IPFS Media"},X,8,J),m("a",{href:d.getImgUrl(d.individualPost.metaHash),title:"IPFS Metadata"},ii,8,Z)])])):c("",!0)])):c("",!0)],64)};export{M as default};
