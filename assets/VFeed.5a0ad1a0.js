import{m as e,_ as s,a}from"./mdb.umd.min.f23cc199.js";import{u as o,a as t,b as d}from"./index.c248c226.js";import{h as i,i as r,z as n,o as l,c,b as m,a as k,I as y,R as u,k as v,t as h,l as p,B as g,Q as C,A as w,N as M,q as f}from"./vendor.3bbbd367.js";const L={name:"RandomFeed",emits:["like-event"],components:{MDBCard:e.exports.MDBCard,MDBCardBody:e.exports.MDBCardBody,MDBCardText:e.exports.MDBCardText,MDBCardImg:e.exports.MDBCardImg,LikersModal:s,ToggleFavorite:a},data:()=>({componentKey:0,showModal:!1,showLikersModal:!1,stateLoaded:!1,idToCheck:null,waveformOptions:{backend:"MediaElement",mediaControls:!0,interact:!1,barWidth:2,responsive:!0,height:145,hideScrollbar:!0,cursorWidth:0}}),mounted(){this.$nextTick((()=>{this.checkIsLiked()}))},methods:{async checkIsLiked(){const{isLiked:e,getRandomPosts:s}=o(),a=o(),{randomPostsArray:t}=i(a);await s(),await e(t._rawValue),this.stateLoaded=!0},async updateparent(){this.checkIsLiked(),this.componentKey+=1,this.$emit("like-event",!0)}},setup(){r("notyf");const e=o(),{randomPosts:s,likedArray:a}=i(e);return{randomPosts:s,getCloudinaryUrlImage:t,getCloudinaryUrlVideo:d,likedArray:a}}},B={key:0},D={key:0,class:"noPostsDiv"},I={class:"wrapperFeed"},P={class:"media-wrap"},x={class:"figureClassFeed"},T={key:0,class:"card-img-style",controls:"",controlsList:"nodownload"},b=["src"],R={key:1,class:"audioCardFeed"},F=["onClick"],A={key:1,id:"favoriting"},_={key:2,id:"favoriting"};L.render=function(e,o,t,d,i,r){const M=n("wavesurfer"),f=n("MDBCardImg"),L=n("router-link"),E=n("MDBCardText"),U=s,V=a,H=n("MDBCardBody"),S=n("MDBCard");return this.stateLoaded?(l(),c("div",B,[d.randomPosts[0]?m("",!0):(l(),c("div",D," no posts yet. ")),k("div",I,[(l(!0),c(y,null,u(d.randomPosts,((e,s)=>(l(),c("div",{class:"gallery-panel",key:s},[k("div",P,[v(S,{class:"card-style hover-overlay"},{default:h((()=>[v(L,{to:`/post/${e.id}`,"active-class":"active",exact:""},{default:h((()=>[k("figure",x,["video"==e.mediaType?(l(),c("video",T,[k("source",{src:d.getCloudinaryUrlVideo(e.mediaHash)},null,8,b)])):m("",!0),"audio"==e.mediaType?(l(),c("div",R,[v(M,{src:d.getCloudinaryUrlVideo(e.mediaHash),options:i.waveformOptions},null,8,["src","options"])])):m("",!0),"image"==e.mediaType?(l(),p(f,{key:2,src:d.getCloudinaryUrlImage(e.mediaHash),top:"",hover:"",alt:"...",class:"card-img-style"},null,8,["src"])):m("",!0)])])),_:2},1032,["to"]),v(H,{class:"card-body"},{default:h((()=>[v(E,{class:"cardName"},{default:h((()=>[g(C(e.name),1)])),_:2},1024),v(E,null,{default:h((()=>[k("a",{class:"likesHover",onClick:s=>(i.showLikersModal=!0,i.idToCheck=e.id)},C(e.likes)+" likes ",9,F),i.showLikersModal&&i.idToCheck==e.id?(l(),p(w,{key:0,to:"body"},[v(U,{show:i.showLikersModal,postId:e.id,onClose:o[0]||(o[0]=e=>i.showLikersModal=!1)},null,8,["show","postId"])])):m("",!0),d.likedArray[s]?m("",!0):(l(),c("div",A,[v(V,{id:e.id,onLikeEvent:r.updateparent},null,8,["id","onLikeEvent"])])),d.likedArray[s]?(l(),c("div",_,[v(V,{id:e.id,intialFavorited:!0,onLikeEvent:r.updateparent},null,8,["id","onLikeEvent"])])):m("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])])))),128))])])):m("",!0)};const E={name:"DiscoverFeed",emits:["like-event"],components:{MDBCard:e.exports.MDBCard,MDBCardBody:e.exports.MDBCardBody,MDBCardText:e.exports.MDBCardText,MDBCardImg:e.exports.MDBCardImg,LikersModal:s,ToggleFavorite:a},data:()=>({componentKey:0,showModal:!1,showLikersModal:!1,stateLoaded:!1,idToCheck:null,waveformOptions:{backend:"MediaElement",mediaControls:!0,interact:!1,barWidth:2,responsive:!0,height:145,hideScrollbar:!0,cursorWidth:0}}),mounted(){this.$nextTick((()=>{this.checkIsLiked()}))},methods:{async checkIsLiked(){const{isLiked:e,getPostsLatest:s}=o(),a=o(),{latestPostsArray:t}=i(a);await s(),await e(t._rawValue),this.stateLoaded=!0},async updateparent(){const{isLiked:e,getPostsLatest:s}=o(),a=o(),{latestPostsArray:t}=i(a);await s(),await e(t._rawValue),this.componentKey+=1,this.$emit("like-event",!0)}},setup(){r("notyf");const e=o(),{latestPosts:s,likedArray:a}=i(e);return{latestPosts:s,likedArray:a,getCloudinaryUrlImage:t,getCloudinaryUrlVideo:d}}},U={key:0},V={key:0,class:"noPostsDiv"},H={class:"wrapperFeed"},S={class:"media-wrap"},$={class:"figureClassFeed"},N={key:0,class:"card-img-style",controls:"",controlsList:"nodownload"},W=["src"],K={key:1,class:"audioCardFeed"},O=["onClick"],j={key:1,id:"favoriting"},q={key:2,id:"favoriting"};E.render=function(e,o,t,d,i,r){const M=n("wavesurfer"),f=n("MDBCardImg"),L=n("router-link"),B=n("MDBCardText"),D=s,I=a,P=n("MDBCardBody"),x=n("MDBCard");return this.stateLoaded?(l(),c("div",U,[d.latestPosts[0]?m("",!0):(l(),c("div",V," no posts yet. ")),k("div",H,[(l(!0),c(y,null,u(d.latestPosts,((e,s)=>(l(),c("div",{class:"gallery-panel",key:s},[k("div",S,[v(x,{class:"card-style hover-overlay"},{default:h((()=>[v(L,{to:`/post/${e.id}`,"active-class":"active",exact:""},{default:h((()=>[k("figure",$,["video"==e.mediaType?(l(),c("video",N,[k("source",{src:d.getCloudinaryUrlVideo(e.mediaHash)},null,8,W)])):m("",!0),"audio"==e.mediaType?(l(),c("div",K,[v(M,{src:d.getCloudinaryUrlVideo(e.mediaHash),options:i.waveformOptions},null,8,["src","options"])])):m("",!0),"image"==e.mediaType?(l(),p(f,{key:2,src:d.getCloudinaryUrlImage(e.mediaHash),top:"",hover:"",alt:"...",class:"card-img-style"},null,8,["src"])):m("",!0)])])),_:2},1032,["to"]),v(P,{class:"card-body"},{default:h((()=>[v(B,{class:"cardName"},{default:h((()=>[g(C(e.name),1)])),_:2},1024),v(B,null,{default:h((()=>[k("a",{class:"likesHover",onClick:s=>(i.showLikersModal=!0,i.idToCheck=e.id)},C(e.likes)+" likes ",9,O),i.showLikersModal&&i.idToCheck==e.id?(l(),p(w,{key:0,to:"body"},[v(D,{show:i.showLikersModal,postId:e.id,onClose:o[0]||(o[0]=e=>i.showLikersModal=!1)},null,8,["show","postId"])])):m("",!0),d.likedArray[s]?m("",!0):(l(),c("div",j,[v(I,{id:e.id,onLikeEvent:r.updateparent},null,8,["id","onLikeEvent"])])),d.likedArray[s]?(l(),c("div",q,[v(I,{id:e.id,intialFavorited:!0,onLikeEvent:r.updateparent},null,8,["id","onLikeEvent"])])):m("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])])))),128))])])):m("",!0)};const z={name:"VFeed",components:{DiscoverFeed:E,RandomFeed:L},data:()=>({showRandomPosts:!1}),methods:{toggleShowRandomItems(){this.showRandomPosts=!this.showRandomPosts}},setup(){const e=new M({duration:2e3,position:{x:"center",y:"bottom"},types:[{type:"loading",background:"orange",duration:0,dismissible:!0,icon:{className:"icon icon-loading",tagName:"i"}}]}),s=o(),{account:a}=i(s);return f("notyf",e),{account:a}}},G={id:"content"},Q={key:0,class:"main animated"},J={class:"main-content"},X={class:"feedHeader"},Y={class:"toggleWrapper"},Z={key:0,class:"latestInactive"},ee={key:0,class:"latestActive"},se=k("div",{class:"divider"}," | ",-1),ae={key:0,class:"randomInactive"},oe={key:1,class:"randomActive"},te={class:"feedGrid"},de={key:0,class:"feedBox"},ie={key:1,class:"feedBox"};z.render=function(e,s,a,o,t,d){const i=n("DiscoverFeed"),r=L;return l(),c("section",G,[o.account?(l(),c("div",Q,[k("div",J,[k("div",X,[k("div",Y,[k("a",{onClick:s[0]||(s[0]=(...e)=>d.toggleShowRandomItems&&d.toggleShowRandomItems(...e))},[t.showRandomPosts?(l(),c("div",Z," latest ")):m("",!0)]),t.showRandomPosts?m("",!0):(l(),c("div",ee," latest ")),se,k("a",{onClick:s[1]||(s[1]=(...e)=>d.toggleShowRandomItems&&d.toggleShowRandomItems(...e))},[t.showRandomPosts?m("",!0):(l(),c("div",ae," random "))]),t.showRandomPosts?(l(),c("div",oe," random ")):m("",!0)])]),k("div",te,[t.showRandomPosts?m("",!0):(l(),c("div",de,[v(i)])),t.showRandomPosts?(l(),c("div",ie,[v(r)])):m("",!0)])])])):m("",!0)])};export{z as default};
